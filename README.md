# text-highlighter-pro

# ویرایشگر متن Vue با امکان انتخاب و رنگ‌آمیزی بخش‌های متن

این کد یک کامپوننت Vue است که یک ویرایشگر متن ساده با قابلیت انتخاب و رنگ‌آمیزی بخش‌های مختلف متن ایجاد می‌کند.

## نصب و راه‌اندازی

 نصب وابستگی‌ها با استفاده از npm:


## Project setup
```
npm install
```

### Compiles and hot-reloads for development
```
npm run serve
```

### Compiles and minifies for production
```
npm run build
```

## راه‌اندازی کتابخانه‌ها

کد از دو کتابخانه `rangy` و `bootstrap-vue` استفاده می‌کند. از `rangy` برای کار با محدوده‌های متنی (Range) و ایجاد بخش‌های رنگی استفاده شده است. همچنین، `bootstrap-vue` برای نمایش توضیحات به صورت tooltip استفاده می‌شود.

## اجزاء و عملکرد

کامپوننت `NewRangy` دارای اجزاء زیر است:

### handleSelection()

تابع `handleSelection()` به منظور تشخیص بخش‌های انتخاب شده در متن به کار می‌رود. این تابع با فراخوانی بررسی می‌کند که آیا بخشی از متن انتخاب شده است یا خیر. اگر متنی انتخاب نشده باشد، تابع بدون انجام هیچ عملیاتی اجرا می‌شود. در صورتی که متنی انتخاب شده باشد، با استفاده از تابع `removeInternalTags()`، بخش‌های داخلی انتخابی را حذف می‌کند تا از اشکال در انتخاب متن جلوگیری شود. سپس با احاطه بخش‌های انتخابی با تگ‌های جدید، محدوده‌های متنی انتخاب شده را تا آخرین کاراکتر طی شده با استفاده از کلاس `selected-text` و ID تصادفی (مانند `selected-text-xyz123`) باطل می‌کند. این تگ‌های جدید به منظور رنگ‌آمیزی و کارایی‌های دیگر بر روی بخش‌های انتخابی ایجاد می‌شوند.

### removeInternalTags(range)

تابع `removeInternalTags(range)` برای حذف بخش‌های داخلی انتخابی از محدوده‌های متنی استفاده می‌شود. این تابع با دریافت محدوده‌ای (range) به عنوان ورودی، بخش‌های داخلی (اگر وجود داشته باشند) را حذف کرده و تا حد ممکن محدوده‌های متنی را به حالت اصلی بازمی‌گرداند. این کار به اشکال در انتخاب متن جلوگیری می‌کند.

### deleteSelectedText(id)

تابع `deleteSelectedText(id)` به منظور حذف یک بخش انتخابی با شناسه مشخص (ID) استفاده می‌شود. با فراخوانی این تابع با ID مشخص شده، بخش متنی که انتخاب شده با استفاده از تگ `selected-text` و ID مورد نظر داخل آن ایجاد شده، به صورت کامل حذف می‌شود.

### reset()

تابع `reset()` برای بازنشانی همه بخش‌های انتخاب شده و تغییر رنگ آن‌ها به حالت اولیه استفاده می‌شود. با فراخوانی این تابع، تمام بخش‌های انتخاب شده و تغییر رنگ داده‌شده به حالت اولیه برگردانده می‌شوند.

### changeText()

تابع `changeText()` به منظور فعال‌سازی وضعیت ویرایش متن استفاده می‌شود. با فراخوانی این تابع، وضعیت ویرایش متن به حالت فعال تغییر می‌کند.

### applyEditedText()

تابع `applyEditedText()` برای اعمال تغییرات اعمال شده در متن ویرایش شده به متن اصلی استفاده می‌شود. این تابع پس از انجام ویرایش‌های لازم در متن، تغییرات را به متن اصلی اعمال می‌کند. در صورتی که هیچ تغییری در متن انجام نشود، ویرایشات لغو می‌شود و متن به حالت اصلی بازمی‌گردد.

### و ...

توابع دیگری نیز در کد وجود دارند که برای کارکرد و عملیات‌های مختلف این ویرایشگر متن استفاده می‌شوند. برای اطلاعات بیشتر و بررسی کامل تمام توابع، به کد منبع مراجعه کنید.


## نکته مهم

از این کد، برای ایجاد یک ویرایشگر متنی ساده با امکان انتخاب و رنگ‌آمیزی بخش‌های مختلف متن می‌توانید استفاده کنید. اگر نیازمندی‌ها و قابلیت‌های بیشتری دارید، می‌توانید این کد را به محضر خود تطبیق دهید.
